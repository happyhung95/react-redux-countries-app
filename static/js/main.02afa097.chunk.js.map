{"version":3,"sources":["context/index.tsx","redux/actions/ui.ts","types.ts","components/SearchField/styles.ts","components/SearchField/SearchField.tsx","components/ShoppingCart/styles.ts","components/ShoppingCart/ShoppingCart.tsx","redux/actions/countries.ts","containers/NavBar/styles.ts","containers/NavBar/NavBar.tsx","components/AddButton/styles.ts","components/AddButton/AddButton.tsx","containers/CountriesList/styles.ts","containers/CountriesList/CountriesList.tsx","components/ThemeMenu/styles.ts","components/ThemeMenu/ThemeMenu.tsx","pages/Home.tsx","pages/Country/styles.ts","pages/Country/Country.tsx","Routes.tsx","App.tsx","serviceWorker.ts","redux/reducers/countries.ts","redux/reducers/ui.ts","redux/reducers/index.ts","services/getAllCountries.ts","redux/sagas/countries.ts","redux/sagas/ui.ts","redux/sagas/index.ts","redux/store.ts","index.tsx"],"names":["themes","hazel","color","name","red","blue","yellow","handleSwitchTheme","React","createContext","theme","switchTheme","toggleMenuOpen","isMenuOpened","type","payload","useStyles","makeStyles","createStyles","inputRoot","inputInput","padding","spacing","paddingLeft","transition","transitions","create","width","breakpoints","up","SearchField","classes","dispatch","useDispatch","InputBase","placeholder","root","input","inputProps","onChange","event","searchKey","target","value","cartCloseIcon","display","justifyContent","paddingRight","cartContainer","marginTop","minWidth","alignItems","textDecoration","backgroundColor","cartHeader","paddingBottom","cartCountry","cartLink","ShoppingCart","anchorEl","isCartOpen","handleCartClose","inCart","useSelector","state","countries","useContext","ThemeContext","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","Typography","component","Box","className","IconButton","edge","aria-label","aria-controls","aria-haspopup","onClick","fontWeight","fontSize","length","Divider","map","flag","key","Grid","container","item","xs","to","src","alt","style","removeCountry","handleRemoveCountry","fill","grow","flexGrow","menuButton","marginRight","title","search","position","borderRadius","shape","fade","palette","common","white","marginLeft","searchIcon","height","pointerEvents","NavBar","useState","setAnchorEl","Boolean","AppBar","Toolbar","variant","noWrap","currentTarget","Badge","badgeContent","button","AddButton","country","isDisabled","undefined","find","inCartCountry","Button","addCountry","disabled","paper","background","image","img","maxWidth","maxHeight","table","tableHead","countryName","loading","CountriesList","data","error","exception","ui","ascendingOrder","setSortOrder","setCountries","useEffect","handleSort","reverse","themeMUI","useTheme","desktopView","useMediaQuery","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableSortLabel","direction","TableBody","filter","toLowerCase","includes","scope","languages","Intl","NumberFormat","useGrouping","format","population","region","language","join","gutterBottom","CircularProgress","size","disableShrink","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","themeIcon","ThemeMenu","handleMenuClose","ClickAwayListener","mouseEvent","touchEvent","onClickAway","Drawer","anchor","List","ListItem","ListItemIcon","ListItemText","primary","Home","CssBaseline","flexDirection","marginBottom","Country","useParams","history","useHistory","Container","goBack","Routes","exact","path","App","setContext","current","context","Provider","window","location","hostname","match","countriesReducer","action","newInCart","uiReducer","createRootReducer","combineReducers","getAllCountries","a","URL","caches","cacheStorage","cacheResponse","ok","add","json","fetchCountries","call","allCountries","sort","b","put","takeLatest","sendInputToReducer","throttle","rootSaga","all","countriesSagas","uiSagas","initState","store","initialState","sagaMiddleware","createSagaMiddleware","middlewares","thunk","composeEnhancers","compose","createStore","applyMiddleware","run","makeStore","WithProvider","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.02afa097.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const themes = {\r\n  hazel: {\r\n    color: '#8E7618 ',\r\n    name: 'Hazel',\r\n  },\r\n  red: {\r\n    color: '#d3003f',\r\n    name: 'Utah Crimson',\r\n  },\r\n  blue: {\r\n    color: '#000080',\r\n    name: 'Navy Blue',\r\n  },\r\n  yellow: {\r\n    color: '#fcc200',\r\n    name: 'Golden Poppy',\r\n  },\r\n}\r\n\r\nexport const handleSwitchTheme = (color: string) => {\r\n  switch (color) {\r\n  case themes.hazel.color:\r\n    return themes.hazel\r\n  case themes.red.color:\r\n    return themes.red\r\n  case themes.blue.color:\r\n    return themes.blue\r\n  case themes.yellow.color:\r\n    return themes.yellow\r\n  default:\r\n    return themes.red\r\n  }\r\n}\r\n\r\nexport default React.createContext({\r\n  theme: themes.blue,\r\n  switchTheme: (name: string) => {},\r\n})\r\n","import {\r\n  SEARCH_COUNTRY,\r\n  UiAction,\r\n  HANDLE_INPUT_TO_SAGA,\r\n  TOGGLE_MENU,\r\n} from './../../types'\r\n\r\nexport function searchCountry(searchKey: string): UiAction {\r\n  return {\r\n    type: SEARCH_COUNTRY,\r\n    payload: {\r\n      searchKey: searchKey,\r\n    },\r\n  }\r\n}\r\n\r\nexport function handleInputToSaga(searchKey: string): UiAction {\r\n  return {\r\n    type: HANDLE_INPUT_TO_SAGA,\r\n    payload: {\r\n      searchKey: searchKey,\r\n    },\r\n  }\r\n}\r\n\r\nexport function toggleMenuOpen(isMenuOpened: boolean): UiAction {\r\n  return {\r\n    type: TOGGLE_MENU,\r\n    payload: {\r\n      isMenuOpened: isMenuOpened,\r\n    },\r\n  }\r\n}\r\n","export const FETCH_COUNTRIES_FROM_SAGA = 'FETCH_COUNTRIES_FROM_SAGA'\r\nexport const FETCH_COUNTRIES_SUCCEED = 'FETCH_COUNTRIES_SUCCEED'\r\nexport const FETCH_COUNTRIES_FAIL = 'FETCH_COUNTRIES_FAIL'\r\nexport const HANDLE_INPUT_TO_SAGA = 'HANDLE_INPUT_TO_SAGA'\r\nexport const SEARCH_COUNTRY = 'SEARCH_COUNTRY'\r\nexport const ADD_COUNTRY = 'ADD_COUNTRY'\r\nexport const REMOVE_COUNTRY = 'REMOVE_COUNTRY'\r\nexport const TOGGLE_MENU = 'TOGGLE_MENU'\r\n\r\nexport type Country = {\r\n  name: string\r\n  flag: string\r\n  population: number\r\n  languages: { name: string }[]\r\n  region: string\r\n}\r\n\r\nexport type Exception = {\r\n  errorMessage: string\r\n}\r\n\r\nexport type FetchCountriesAction = {\r\n  type: typeof FETCH_COUNTRIES_FROM_SAGA\r\n}\r\n\r\nexport type FetchCountriesSucceedAction = {\r\n  type: typeof FETCH_COUNTRIES_SUCCEED\r\n  payload: {\r\n    countries: Country[]\r\n  }\r\n}\r\n\r\nexport type FetchCountriesFailAction = {\r\n  type: typeof FETCH_COUNTRIES_FAIL\r\n  payload: {\r\n    exception: Exception\r\n  }\r\n}\r\n\r\nexport type AddCountryAction = {\r\n  type: typeof ADD_COUNTRY\r\n  payload: {\r\n    country: Country\r\n  }\r\n}\r\n\r\nexport type RemoveCountryAction = {\r\n  type: typeof REMOVE_COUNTRY\r\n  payload: {\r\n    name: string\r\n  }\r\n}\r\n\r\nexport type SearchCountryAction = {\r\n  type: typeof SEARCH_COUNTRY\r\n  payload: {\r\n    searchKey: string\r\n  }\r\n}\r\n\r\nexport type HandleInputToSagaAction = {\r\n  type: typeof HANDLE_INPUT_TO_SAGA\r\n  payload: {\r\n    searchKey: string\r\n  }\r\n}\r\n\r\nexport type ToggleMenuAction = {\r\n  type: typeof TOGGLE_MENU\r\n  payload: {\r\n    isMenuOpened: boolean\r\n  }\r\n}\r\n\r\n\r\n// Use this union in reducer\r\nexport type UiAction = \r\n| SearchCountryAction\r\n| HandleInputToSagaAction\r\n| ToggleMenuAction\r\n\r\n\r\nexport type CountriesAction =\r\n  | FetchCountriesAction\r\n  | FetchCountriesSucceedAction\r\n  | FetchCountriesFailAction\r\n  | AddCountryAction\r\n  | RemoveCountryAction\r\n\r\n\r\n// Using dynamic keys from an enum\r\nexport type UiState = {\r\n  searchKey: string\r\n  isMenuOpened: boolean\r\n}\r\n\r\nexport type CountriesState = {\r\n  inCart: Country[]\r\n  countries: Country[]\r\n  exception?: Exception\r\n}\r\n\r\nexport type AppState = {\r\n  countries: CountriesState\r\n  ui: UiState\r\n}\r\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\n// SearchField Component\r\n// from MUI\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '50ch',\r\n      },\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport InputBase from '@material-ui/core/InputBase'\n\nimport { handleInputToSaga } from '../../redux/actions/ui'\nimport useStyles from './styles'\n\n// Detach SearchField Component from Navbar for easier code maintenance\n\nexport default function SearchField() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const handleInput = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => dispatch(handleInputToSaga(event.target.value))\n\n  return (\n    <InputBase\n      placeholder=\"Searchâ€¦\"\n      classes={{\n        root: classes.inputRoot,\n        input: classes.inputInput,\n      }}\n      inputProps={{ 'aria-label': 'search' }}\n      onChange={handleInput}\n    />\n  )\n}\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\n// ShoppingCart Component\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    cartCloseIcon: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      paddingRight: 20,\n    },\n    cartContainer: {\n      marginTop: 20,\n      display: 'flex',\n      minWidth: 200,\n      paddingLeft: 20,\n      alignItems: 'center',\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: '#f5f5f5',\n      },\n    },\n    cartHeader: {\n      paddingLeft: 20,\n      paddingBottom: 10,\n      minWidth: 200,\n    },\n    cartCountry: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    cartLink: {\n      textDecoration: 'none',\n      color: 'black',\n    },\n  })\n)\n\nexport default useStyles\n","import React, { useContext } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport {\r\n  Menu,\r\n  Box,\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\n\r\nimport ThemeContext from '../../context'\r\nimport { AppState } from '../../types'\r\nimport { removeCountry } from '../../redux/actions/countries'\r\nimport useStyles from './styles'\r\n\r\ninterface Props {\r\n  anchorEl: HTMLElement | null\r\n  isCartOpen: boolean\r\n  handleCartClose: () => void\r\n}\r\n\r\nconst ShoppingCart: React.FC<Props> = ({\r\n  anchorEl,\r\n  isCartOpen,\r\n  handleCartClose,\r\n}) => {\r\n  const classes = useStyles()\r\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\r\n  const dispatch = useDispatch()\r\n  const { theme } = useContext(ThemeContext)\r\n\r\n  const handleRemoveCountry = (name: string) => dispatch(removeCountry(name))\r\n\r\n  return (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id=\"shopping-cart\"\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isCartOpen}\r\n      onClose={handleCartClose}\r\n    >\r\n      <Typography component=\"div\">\r\n        <Box className={classes.cartCloseIcon}>\r\n          <IconButton\r\n            edge=\"end\"\r\n            aria-label=\"close cart\"\r\n            aria-controls={`close cart`}\r\n            aria-haspopup=\"true\"\r\n            onClick={handleCartClose}\r\n            color=\"inherit\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Box>\r\n        <Box\r\n          fontWeight=\"fontWeightBold\"\r\n          fontSize=\"h6.fontSize\"\r\n          className={classes.cartHeader}\r\n        >\r\n          {inCart.length !== 1\r\n            ? `Cart: ${inCart.length} countries`\r\n            : `Cart: 1 country`}\r\n        </Box>\r\n        <Divider />\r\n      </Typography>\r\n      {inCart.map(({ flag, name }) => (\r\n        <li key={name} className={classes.cartContainer}>\r\n          <Grid container>\r\n            <Grid item xs={9} className={classes.cartCountry}>\r\n              <Link\r\n                to={`/countries-store/country/${name}`}\r\n                className={classes.cartLink}\r\n              >\r\n                <img\r\n                  src={flag}\r\n                  width={90}\r\n                  alt={flag}\r\n                  style={{ paddingRight: 10 }}\r\n                />\r\n              </Link>\r\n              <Typography>\r\n                <Link\r\n                  to={`/countries-store/country/${name}`}\r\n                  className={classes.cartLink}\r\n                  style={{ paddingRight: 20 }}\r\n                >\r\n                  {name}\r\n                </Link>\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={3} style={{ display: 'flex', alignItems: 'center' }}>\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label=\"remove country from cart\"\r\n                aria-controls={`remove ${name} from cart`}\r\n                aria-haspopup=\"true\"\r\n                onClick={() => handleRemoveCountry(name)}\r\n                color=\"inherit\"\r\n              >\r\n                <DeleteIcon style={{ fill: theme.color }} />\r\n              </IconButton>\r\n            </Grid>\r\n          </Grid>\r\n        </li>\r\n      ))}\r\n    </Menu>\r\n  )\r\n}\r\n\r\nexport default ShoppingCart\r\n","import {\r\n  FETCH_COUNTRIES_FROM_SAGA,\r\n  FETCH_COUNTRIES_SUCCEED,\r\n  FETCH_COUNTRIES_FAIL,\r\n  ADD_COUNTRY,\r\n  REMOVE_COUNTRY,\r\n  Country,\r\n  CountriesAction,\r\n  Exception,\r\n\r\n} from '../../types'\r\n\r\nexport function fetchCountriesFromSaga(): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_FROM_SAGA,\r\n  }\r\n}\r\n\r\nexport function fetchCountriesSucceed(countries: Country[]): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_SUCCEED,\r\n    payload: {\r\n      countries: countries,\r\n    },\r\n  }\r\n}\r\n\r\nexport function fetchCountriesFail(exception: Exception): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_FAIL,\r\n    payload: {\r\n      exception: exception,\r\n    },\r\n  }\r\n}\r\n\r\nexport function addCountry(country: Country): CountriesAction {\r\n  return {\r\n    type: ADD_COUNTRY,\r\n    payload: {\r\n      country: country,\r\n    },\r\n  }\r\n}\r\n\r\nexport function removeCountry(name: string): CountriesAction {\r\n  return {\r\n    type: REMOVE_COUNTRY,\r\n    payload: {\r\n      name: name,\r\n    },\r\n  }\r\n}\r\n\r\n\r\n\r\n","import { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\n//NavBar Component\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'block',\r\n      },\r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  Badge,\n} from '@material-ui/core'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport SearchIcon from '@material-ui/icons/Search'\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\n\nimport ThemeContext from '../../context'\nimport { toggleMenuOpen } from '../../redux/actions'\nimport SearchField from '../../components/SearchField'\nimport ShoppingCart from '../../components/ShoppingCart'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\n//MUI component\n\nexport default function NavBar() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const { theme } = useContext(ThemeContext)\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n  const isCartOpen = Boolean(anchorEl)\n\n  const handleCartOpen = (event: React.MouseEvent<HTMLElement>) =>\n    setAnchorEl(event.currentTarget)\n\n  const handleCartClose = () => setAnchorEl(null)\n\n  const handleMenuOpen = () => dispatch(toggleMenuOpen(true))\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"fixed\" style={{ backgroundColor: theme.color }}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleMenuOpen}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            <Link\n              to={`/countries-store/`}\n              style={{ textDecoration: 'none', color: 'inherit' }}\n            >\n              Countries\n            </Link>\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <SearchField /> {/* Custom component modified from MUI */}\n          </div>\n          <div className={classes.grow} />\n          <div>\n            <IconButton\n              edge=\"end\"\n              aria-label=\"show cart\"\n              aria-controls=\"shopping-cart\"\n              aria-haspopup=\"true\"\n              onClick={handleCartOpen}\n              color=\"inherit\"\n            >\n              <Badge badgeContent={inCart.length} color=\"secondary\">\n                <ShoppingCartIcon />\n              </Badge>\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <ShoppingCart\n        anchorEl={anchorEl}\n        isCartOpen={isCartOpen}\n        handleCartClose={handleCartClose}\n      />\n    </div>\n  )\n}\n","import { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\r\n\r\n// AddButton Component\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    button: {\r\n      width: 100,\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Button from '@material-ui/core/Button'\n\nimport ThemeContext from '../../context'\nimport { Country, AppState } from '../../types'\nimport { addCountry } from '../../redux/actions/countries'\nimport useStyles from './styles'\n\nconst AddButton: React.FC<{ country: Country }> = ({ country }) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const { theme } = useContext(ThemeContext)\n\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\n\n  let isDisabled =\n    inCart.find((inCartCountry) => inCartCountry.name === country.name) !==\n      undefined || false // return true if there's match\n\n  const handleClick = () => dispatch(addCountry(country))\n\n  return (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      className={classes.button}\n      onClick={handleClick}\n      disabled={isDisabled}\n      style={{ backgroundColor: theme.color }}\n    >\n      Add\n    </Button>\n  )\n}\n\nexport default AddButton\n","import { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\n\n// CountriesList Component\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      [theme.breakpoints.up('md')]: {\n        flexGrow: 0,\n      },\n    },\n    paper: {\n      padding: theme.spacing(2),\n      background: '#F9F9F9',\n    },\n    image: {\n      width: 150,\n    },\n    img: {\n      maxWidth: '100%',\n      maxHeight: '100%',\n    },\n\n    table: {\n      marginTop: 65,\n    },\n    tableHead: {\n      fontWeight: 'bolder',\n    },\n    countryName: {\n      textDecoration: 'none',\n      color: 'black',\n      fontWeight: 'bolder',\n    },\n    loading: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: '60vh',\n    },\n  })\n)\n\nexport default useStyles\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { useTheme } from '@material-ui/core/styles'\nimport {\n  useMediaQuery,\n  Grid,\n  Paper,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableSortLabel,\n  Divider,\n  CircularProgress,\n} from '@material-ui/core'\n\nimport { fetchCountriesFromSaga } from '../../redux/actions'\nimport AddButton from '../../components/AddButton'\nimport ThemeContext from '../../context'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\nfunction CountriesList() {\n  // countries is already sorted (ascending) in the saga\n  let data = useSelector((state: AppState) => state.countries.countries)\n  const error = useSelector((state: AppState) => state.countries.exception)\n  const searchKey = useSelector((state: AppState) => state.ui.searchKey)\n  const [ascendingOrder, setSortOrder] = useState(true)\n  const [countries, setCountries] = useState(data)\n  const { theme } = useContext(ThemeContext)\n  const dispatch = useDispatch()\n\n  // dispatch action once\n  useEffect(() => {\n    dispatch(fetchCountriesFromSaga())\n  }, [dispatch])\n\n  // render once getAllCountries service return data (promise resolved)\n  useEffect(() => {\n    setCountries(data)\n  }, [data])\n\n  const handleSort = () => {\n    setSortOrder(!ascendingOrder)\n    countries.reverse()\n    setCountries(countries)\n  }\n\n  const classes = useStyles()\n\n  const renderMobile = () => (\n    <div style={{ marginTop: 60 }}>\n      {countries\n        .filter(({ name }) =>\n          name.toLowerCase().includes(searchKey.toLowerCase())\n        )\n        .map((country) => (\n          <div className={classes.root} key={country.name}>\n            <Paper className={classes.paper}>\n              <Grid container direction=\"column\" alignItems=\"center\">\n                <Link\n                  to={`/countries-store/country/${country.name}`}\n                  className={classes.image}\n                >\n                  <img\n                    className={classes.img}\n                    src={country.flag}\n                    alt={country.name}\n                  />\n                </Link>\n                <Typography variant=\"h5\">\n                  <Link\n                    to={`/country/${country.name}`}\n                    className={classes.countryName}\n                    style={{ color: theme.color }}\n                  >\n                    {country.name}\n                  </Link>\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Population\n                </Typography>\n                <Typography variant=\"body1\">\n                  {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n                    country.population\n                  )}\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Languages\n                </Typography>\n                <Typography variant=\"body1\">\n                  {country.languages\n                    .map((language) => language.name)\n                    .join(', ')}\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Region\n                </Typography>\n                <Typography gutterBottom variant=\"body1\">\n                  {country.region}\n                </Typography>\n                <AddButton country={country} />\n                <Divider />\n              </Grid>\n            </Paper>\n          </div>\n        ))}\n    </div>\n  )\n\n  const renderDesktop = () => (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.tableHead}>Flag</TableCell>\n            <TableCell className={classes.tableHead}>\n              <TableSortLabel\n                direction={ascendingOrder ? 'asc' : 'desc'}\n                onClick={handleSort}\n              >\n                Name\n              </TableSortLabel>\n            </TableCell>\n            <TableCell className={classes.tableHead}>Languages</TableCell>\n            <TableCell className={classes.tableHead}>Population</TableCell>\n            <TableCell className={classes.tableHead}>Region</TableCell>\n            <TableCell>{/*button column */}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {countries\n            .filter(({ name }) =>\n              name.toLowerCase().includes(searchKey.toLowerCase())\n            )\n            .map((country) => (\n              <TableRow key={country.name}>\n                <TableCell className={classes.image}>\n                  <Link\n                    to={`/countries-store/country/${country.name}`}\n                  >\n                    <img\n                      className={classes.img}\n                      src={country.flag}\n                      alt={country.name}\n                    />\n                  </Link>\n                </TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  <Link\n                    to={`/countries-store/country/${country.name}`}\n                    className={classes.countryName}\n                  >\n                    {country.name}\n                  </Link>\n                </TableCell>\n                <TableCell>\n                  {country.languages.map(({ name }) => (\n                    <li key={name}>{name}</li>\n                  ))}\n                </TableCell>\n                <TableCell>\n                  {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n                    country.population\n                  )}\n                </TableCell>\n                <TableCell>{country.region}</TableCell>\n                <TableCell>\n                  <AddButton country={country} />\n                </TableCell>\n              </TableRow>\n            ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n\n  // Responsive render\n  const themeMUI = useTheme()\n  const desktopView = useMediaQuery(themeMUI.breakpoints.up('sm')) // min view width = 600px\n\n  return (\n    <>\n      {desktopView ? renderDesktop() : renderMobile()}\n      {error && <div>Error occur</div>}\n      {data.length < 1 && (\n        <div className={classes.loading}>\n          <CircularProgress\n            size=\"5rem\"\n            style={{ color: theme.color }}\n            disableShrink={true}\n          />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default CountriesList\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\n//Drawer Component\n\nconst drawerWidth = 300\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    hide: {\n      display: 'none',\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: drawerWidth,\n    },\n    drawerHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1),\n      // necessary for content to be below app bar\n      ...theme.mixins.toolbar,\n      justifyContent: 'space-between',\n    },\n    themeIcon: {\n      padding: 15,\n      marginRight: 10,\n      color: 'white',\n      justifyContent: 'center',\n    },\n  })\n)\n\nexport default useStyles\n","import React, { useContext } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {\n  Typography,\n  Drawer,\n  List,\n  Divider,\n  IconButton,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ClickAwayListener,\n} from '@material-ui/core'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\nimport { useTheme } from '@material-ui/core/styles'\n\nimport { AppState } from '../../types'\nimport { toggleMenuOpen } from '../../redux/actions/ui'\nimport ThemeContext, { themes } from '../../context'\nimport useStyles from './styles'\n\nexport default function ThemeMenu() {\n  const classes = useStyles()\n  const theme = useTheme()\n  const dispatch = useDispatch()\n  let open = useSelector((state: AppState) => state.ui.isMenuOpened)\n\n  const { switchTheme } = useContext(ThemeContext)\n\n  const handleMenuClose = () => dispatch(toggleMenuOpen(false))\n\n  return (\n    <>\n      {/* add constraint to prevent dispatching toggleMenuOpen action\n    from ClickAwayListener when Drawer is not opened */}\n      {open && (\n        <div className={classes.root}>\n          <ClickAwayListener\n            mouseEvent=\"onMouseDown\"\n            touchEvent=\"onTouchStart\"\n            onClickAway={handleMenuClose}\n          >\n            <Drawer\n              className={classes.drawer}\n              variant=\"persistent\"\n              anchor=\"left\"\n              open={open}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n            >\n              <div className={classes.drawerHeader}>\n                <Typography variant=\"h6\" style={{ paddingLeft: 20 }}>\n                  SWITCH THEME\n                </Typography>\n                <IconButton onClick={handleMenuClose}>\n                  {theme.direction === 'ltr' ? (\n                    <ChevronLeftIcon />\n                  ) : (\n                    <ChevronRightIcon />\n                  )}\n                </IconButton>\n              </div>\n              <Divider />\n              <List>\n                {[themes.hazel, themes.red, themes.blue, themes.yellow].map(\n                  (theme) => (\n                    <ListItem\n                      button\n                      key={theme.color}\n                      onClick={() => {\n                        switchTheme(theme.color)\n                      }}\n                    >\n                      <ListItemIcon\n                        className={classes.themeIcon}\n                        style={{ backgroundColor: theme.color }}\n                      >\n                        {theme.name[0]}\n                      </ListItemIcon>\n                      <ListItemText primary={theme.name} />\n                    </ListItem>\n                  )\n                )}\n              </List>\n            </Drawer>\n          </ClickAwayListener>\n        </div>\n      )}\n    </>\n  )\n}\n","import React from 'react'\n\nimport { CssBaseline } from '@material-ui/core'\n\nimport NavBar from '../containers/NavBar'\nimport CountriesList from '../containers/CountriesList'\nimport ThemeMenu from '../components/ThemeMenu'\n\nexport default function Home() {\n  return (\n    <>\n      <CssBaseline />\n      <ThemeMenu />\n      <NavBar />\n      <CountriesList />\n    </>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    color: 'white',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    width: 250,\r\n  },\r\n  img: {\r\n    marginBottom: 50,\r\n    display: 'block',\r\n    maxWidth: 200,\r\n    maxHeight: '100%',\r\n  },\r\n}))\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport { Typography, Container, Button } from '@material-ui/core'\n\nimport ThemeContext from '../../context'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\nexport default function Country() {\n  const { theme } = useContext(ThemeContext)\n  const { name } = useParams()\n  const history = useHistory()\n  const classes = useStyles()\n\n  const country = useSelector((state: AppState) =>\n    state.countries.countries.find(\n      (country) => country.name.toLowerCase() === name.toLowerCase()\n    )\n  )\n  if (!country) {\n    return <div>Country not available</div>\n  }\n  return (\n    <Container\n      className={classes.container}\n      maxWidth={false}\n      style={{ backgroundColor: theme.color }}\n    >\n      <img className={classes.img} src={country.flag} alt={country.name} />\n      <Typography variant=\"h5\">{country.name}</Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Population\n      </Typography>\n      <Typography variant=\"body1\">\n        {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n          country.population\n        )}\n      </Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Languages\n      </Typography>\n      <Typography variant=\"body1\">\n        {country.languages.map((language) => language.name).join(', ')}\n      </Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Region\n      </Typography>\n      <Typography gutterBottom variant=\"body1\">\n        {country.region}\n      </Typography>\n      <Button\n        variant=\"contained\"\n        style={{ backgroundColor: 'white' }}\n        onClick={() => history.goBack()}\n      >\n        Go back\n      </Button>\n    </Container>\n  )\n}\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\n\nimport Home from './pages/Home'\nimport Country from './pages/Country/Country'\n\nconst Routes = () => (\n  <Switch>\n    <Route exact path=\"/countries-store\" component={Home} />\n    <Route\n      exact\n      path=\"/countries-store/country/:name\"\n      component={Country}\n    />\n  </Switch>\n)\n\nexport default Routes\n","import React, { useState } from 'react'\r\n\r\nimport Routes from './Routes'\r\nimport ThemeContext, { themes, handleSwitchTheme } from './context'\r\n\r\nexport default function App() {\r\n  const [context, setContext] = useState({\r\n    theme: themes.red,\r\n    switchTheme: (color: string) => {\r\n      setContext((current) => ({\r\n        ...current,\r\n        theme: handleSwitchTheme(color),\r\n      }))\r\n    },\r\n  })\r\n\r\n  return (\r\n    <ThemeContext.Provider value={context}>\r\n      <Routes />\r\n    </ThemeContext.Provider>\r\n  )\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {\r\n  CountriesAction,\r\n  CountriesState,\r\n  FETCH_COUNTRIES_SUCCEED,\r\n  FETCH_COUNTRIES_FAIL,\r\n  ADD_COUNTRY,\r\n  REMOVE_COUNTRY,\r\n} from '../../types'\r\n\r\nfunction countriesReducer(\r\n  state: CountriesState = {\r\n    inCart: [],\r\n    countries: [],\r\n    exception: undefined,\r\n  },\r\n  action: CountriesAction\r\n): CountriesState {\r\n  switch (action.type) {\r\n    \r\n  case FETCH_COUNTRIES_SUCCEED: {\r\n    const { countries } = action.payload\r\n    return { ...state, countries: [...countries] }\r\n  }\r\n\r\n  case FETCH_COUNTRIES_FAIL: {\r\n    const { exception } = action.payload\r\n    return { ...state, exception: exception }\r\n  }\r\n\r\n  case ADD_COUNTRY: {\r\n    const { country } = action.payload\r\n    return { ...state, inCart: [...state.inCart, country] }\r\n  }\r\n\r\n  case REMOVE_COUNTRY: {\r\n    const { name } = action.payload\r\n    // filter out the country from inCart\r\n    const newInCart = state.inCart.filter(country => country.name !== name )\r\n    return { ...state, inCart: [...newInCart] }\r\n  }\r\n\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default countriesReducer\r\n","import { UiState, UiAction, SEARCH_COUNTRY, TOGGLE_MENU } from './../../types'\r\n\r\nfunction uiReducer(\r\n  state: UiState = {\r\n    searchKey: '',\r\n    isMenuOpened: false,\r\n  },\r\n  action: UiAction\r\n): UiState {\r\n  switch (action.type) {\r\n  case SEARCH_COUNTRY: {\r\n    const { searchKey } = action.payload\r\n    return { ...state, searchKey: searchKey }\r\n  }\r\n  case TOGGLE_MENU: {\r\n    const { isMenuOpened } = action.payload\r\n    return { ...state, isMenuOpened: isMenuOpened }\r\n  }\r\n\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default uiReducer\r\n","import { combineReducers } from 'redux'\r\n\r\nimport countriesReducer from './countries'\r\nimport uiReducer from './ui'\r\n\r\nconst createRootReducer = () =>\r\n  combineReducers({\r\n    countries: countriesReducer,\r\n    ui: uiReducer\r\n  })\r\n\r\nexport default createRootReducer\r\n","export async function getAllCountries() {\n  const URL = 'https://restcountries.eu/rest/v2/all'\n  const cacheStorage = await caches.open('AllCountries')\n  let cacheResponse = await cacheStorage.match(URL)\n\n  if (!cacheResponse || !cacheResponse.ok) {\n    await cacheStorage.add(URL)\n    cacheResponse = await cacheStorage.match(URL)\n  }\n\n  return await cacheResponse?.json()\n}\n","import { takeLatest, call, put } from 'redux-saga/effects'\n\nimport { FETCH_COUNTRIES_FROM_SAGA, Country } from './../../types'\nimport { fetchCountriesSucceed, fetchCountriesFail } from '../actions'\nimport { getAllCountries } from '../../services/getAllCountries'\n\nfunction* fetchCountries() {\n  try {\n    const allCountries: Country[] = yield call(getAllCountries)\n\n    // sort countries name in ascending order\n    allCountries.sort((a, b) => (a.name > b.name ? 1 : -1))\n\n    yield put(fetchCountriesSucceed(allCountries))\n  } catch (exception) {\n    yield put(fetchCountriesFail(exception))\n  }\n}\n\nexport default [takeLatest(FETCH_COUNTRIES_FROM_SAGA, fetchCountries)]\n","import { put, throttle } from 'redux-saga/effects'\r\n\r\nimport { searchCountry } from '../actions'\r\nimport { HANDLE_INPUT_TO_SAGA, HandleInputToSagaAction } from './../../types'\r\n\r\nfunction* sendInputToReducer(action: HandleInputToSagaAction) {\r\n  yield put(searchCountry(action.payload.searchKey))\r\n}\r\n\r\n// only send dispatch every 1 second, ignore everything in the meantime\r\nexport default [throttle(1000, HANDLE_INPUT_TO_SAGA, sendInputToReducer)]\r\n","import { all } from 'redux-saga/effects'\r\n\r\nimport countriesSagas from './countries'\r\nimport uiSagas from './ui'\r\n\r\nexport default function* rootSaga() {\r\n  yield all([...countriesSagas, ...uiSagas])\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport thunk from 'redux-thunk'\n\nimport { AppState } from '../types'\nimport createRootReducer from './reducers'\nimport rootSaga from './sagas'\n\nconst initState: AppState = {\n  countries: {\n    inCart: [],\n    countries: [],\n    exception: undefined,\n  },\n  ui: {\n    searchKey: '',\n    isMenuOpened: false,\n  },\n}\n\nexport default function makeStore(initialState = initState) {\n  const sagaMiddleware = createSagaMiddleware()\n  const middlewares = [sagaMiddleware, thunk]\n  let composeEnhancers = compose\n\n  if (process.env.NODE_ENV === 'development') {\n    if ((window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n      composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        trace: true,\n        traceLimit: 25,\n      })\n    }\n  }\n\n  const store = createStore(\n    createRootReducer(),\n    initialState,\n    composeEnhancers(applyMiddleware(...middlewares))\n  )\n\n  sagaMiddleware.run(rootSaga)\n\n  if ((module as any).hot) {\n    ;(module as any).hot.accept('./reducers', () => {\n      const nextReducer = require('./reducers').default\n      store.replaceReducer(nextReducer)\n    })\n  }\n\n  return store\n}\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport makeStore from './redux/store'\r\n\r\nconst store = makeStore()\r\n\r\nconst WithProvider = () => (\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>\r\n)\r\n\r\nReactDOM.render(<WithProvider />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}